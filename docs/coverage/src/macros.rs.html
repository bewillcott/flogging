<!doctype html><title>src/macros.rs</title><link href=../style.css rel=stylesheet><link href=../syntax.css rel=stylesheet></head><body><div class=source-area><p class=source-path>src/macros.rs</p><div class=source-coverage><div><p>Lines</p><p class=level-text-veryhigh>100.00 %</p></div><div><p>Functions</p><p class=level-text-veryhigh>100.00 %</p></div><div><p>Regions</p><p class=level-text-veryhigh>100.00 %</p></div></div><table class=source-table><thead><tr><th>Line</th><th>Count</th><th>Source (<a href=#L63>jump to first uncovered line</a>)</th></tr></thead><tbody class=syntect-code><tr><td><a href=#L1 name=L1>1</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span></pre></td></tr><tr><td><a href=#L2 name=L2>2</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> File Name:    macros.rs</span></pre></td></tr><tr><td><a href=#L3 name=L3>3</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> Project Name: flogging</span></pre></td></tr><tr><td><a href=#L4 name=L4>4</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span></pre></td></tr><tr><td><a href=#L5 name=L5>5</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> Copyright (C) 2025 Bradley Willcott</span></pre></td></tr><tr><td><a href=#L6 name=L6>6</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span></pre></td></tr><tr><td><a href=#L7 name=L7>7</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> SPDX-License-Identifier: GPL-3.0-or-later</span></pre></td></tr><tr><td><a href=#L8 name=L8>8</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span></pre></td></tr><tr><td><a href=#L9 name=L9>9</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> This library (crate) is free software: you can redistribute it and/or modify</span></pre></td></tr><tr><td><a href=#L10 name=L10>10</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> it under the terms of the GNU General Public License as published by</span></pre></td></tr><tr><td><a href=#L11 name=L11>11</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> the Free Software Foundation, either version 3 of the License, or</span></pre></td></tr><tr><td><a href=#L12 name=L12>12</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> (at your option) any later version.</span></pre></td></tr><tr><td><a href=#L13 name=L13>13</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span></pre></td></tr><tr><td><a href=#L14 name=L14>14</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> This library (crate) is distributed in the hope that it will be useful,</span></pre></td></tr><tr><td><a href=#L15 name=L15>15</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> but WITHOUT ANY WARRANTY; without even the implied warranty of</span></pre></td></tr><tr><td><a href=#L16 name=L16>16</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></pre></td></tr><tr><td><a href=#L17 name=L17>17</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> GNU General Public License for more details.</span></pre></td></tr><tr><td><a href=#L18 name=L18>18</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span></pre></td></tr><tr><td><a href=#L19 name=L19>19</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> You should have received a copy of the GNU General Public License</span></pre></td></tr><tr><td><a href=#L20 name=L20>20</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> along with this library (crate).  If not, see &LThttps://www.gnu.org/licenses/>.</span></pre></td></tr><tr><td><a href=#L21 name=L21>21</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span></pre></td></tr><tr><td><a href=#L22 name=L22>22</a></td><td></td><td><pre></pre></td></tr><tr><td><a href=#L23 name=L23>23</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//!</span></pre></td></tr><tr><td><a href=#L24 name=L24>24</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//!</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> # Macros</span></pre></td></tr><tr><td><a href=#L25 name=L25>25</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//!</span></pre></td></tr><tr><td><a href=#L26 name=L26>26</a></td><td></td><td><pre></pre></td></tr><tr><td><a href=#L27 name=L27>27</a></td><td></td><td><pre><span class="syntect-rust syntect-other syntect-keyword">use</span> <span class="syntect-rust syntect-other syntect-keyword">crate</span><span class="syntect-rust syntect-accessor syntect-punctuation">::</span><span class="syntect-rust syntect-source">Logger</span><span class="syntect-rust syntect-terminator syntect-punctuation">;</span></pre></td></tr><tr><td><a href=#L28 name=L28>28</a></td><td></td><td><pre></pre></td></tr><tr><td><a href=#L29 name=L29>29</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span></pre></td></tr><tr><td><a href=#L30 name=L30>30</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> Setup module level logger access.</span></pre></td></tr><tr><td><a href=#L31 name=L31>31</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span></pre></td></tr><tr><td><a href=#L32 name=L32>32</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> The basic macro syntax is:</span></pre></td></tr><tr><td><a href=#L33 name=L33>33</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span></pre></td></tr><tr><td><a href=#L34 name=L34>34</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> ```text</span></pre></td></tr><tr><td><a href=#L35 name=L35>35</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> const_logger!({/* the block of Rust code to build a Logger goes here */});</span></pre></td></tr><tr><td><a href=#L36 name=L36>36</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> ```</span></pre></td></tr><tr><td><a href=#L37 name=L37>37</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> Notice there are curly braces "`{}`" wrapping the inner Rust code.</span></pre></td></tr><tr><td><a href=#L38 name=L38>38</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> **They are required.**</span></pre></td></tr><tr><td><a href=#L39 name=L39>39</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span></pre></td></tr><tr><td><a href=#L40 name=L40>40</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> The code you put in here will depend on what configuration of `Logger` you</span></pre></td></tr><tr><td><a href=#L41 name=L41>41</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> want to setup.</span></pre></td></tr><tr><td><a href=#L42 name=L42>42</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span></pre></td></tr><tr><td><a href=#L43 name=L43>43</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> # Examples</span></pre></td></tr><tr><td><a href=#L44 name=L44>44</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> ```</span></pre></td></tr><tr><td><a href=#L45 name=L45>45</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> extern crate flogging;</span></pre></td></tr><tr><td><a href=#L46 name=L46>46</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> use flogging::*;</span></pre></td></tr><tr><td><a href=#L47 name=L47>47</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span></pre></td></tr><tr><td><a href=#L48 name=L48>48</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> const_logger!({</span></pre></td></tr><tr><td><a href=#L49 name=L49>49</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment">     Logger::builder(module_path!())</span></pre></td></tr><tr><td><a href=#L50 name=L50>50</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment">         .set_level(Level::FINEST)</span></pre></td></tr><tr><td><a href=#L51 name=L51>51</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment">         .add_console_handler()</span></pre></td></tr><tr><td><a href=#L52 name=L52>52</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment">         .add_file_handler_with("rdb.log", FormatType::Iso8601, None)</span></pre></td></tr><tr><td><a href=#L53 name=L53>53</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment">         .build()</span></pre></td></tr><tr><td><a href=#L54 name=L54>54</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> });</span></pre></td></tr><tr><td><a href=#L55 name=L55>55</a></td><td></td><td><pre><span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">///</span><span class="syntect-rust syntect-documentation syntect-line syntect-comment"> ```</span></pre></td></tr><tr><td><a href=#L56 name=L56>56</a></td><td></td><td><pre><span class="syntect-rust syntect-annotation syntect-definition syntect-punctuation">#</span><span class="syntect-rust syntect-begin syntect-group syntect-section syntect-punctuation">[</span><span class="syntect-rust syntect-annotation syntect-variable">macro_export</span><span class="syntect-rust syntect-end syntect-group syntect-section syntect-punctuation">]</span></pre></td></tr><tr><td><a href=#L57 name=L57>57</a></td><td></td><td><pre><span class="syntect-rust syntect-function syntect-support">macro_rules!</span> <span class="syntect-rust syntect-macro syntect-name syntect-entity">const_logger</span> <span class="syntect-rust syntect-begin syntect-block syntect-section syntect-punctuation">{</span></pre></td></tr><tr><td><a href=#L58 name=L58>58</a></td><td></td><td><pre>    <span class="syntect-rust syntect-begin syntect-group syntect-section syntect-punctuation">(</span><span class="syntect-rust syntect-parameter syntect-variable">$block</span><span class="syntect-rust syntect-separator syntect-punctuation">:</span><span class="syntect-rust syntect-type syntect-storage">block</span><span class="syntect-rust syntect-end syntect-group syntect-section syntect-punctuation">)</span> <span class="syntect-rust syntect-operator syntect-keyword">=></span> <span class="syntect-rust syntect-begin syntect-block syntect-section syntect-punctuation">{</span></pre></td></tr><tr><td><a href=#L59 name=L59>59</a></td><td></td><td><pre>        <span class="syntect-rust syntect-other syntect-keyword">use</span> <span class="syntect-rust syntect-path syntect-meta">flogging</span><span class="syntect-rust syntect-accessor syntect-punctuation">::</span><span class="syntect-rust syntect-block syntect-meta">Logger </span><span class="syntect-rust syntect-operator syntect-keyword">as</span><span class="syntect-rust syntect-block syntect-meta"> FLogger</span><span class="syntect-rust syntect-terminator syntect-punctuation">;</span></pre></td></tr><tr><td><a href=#L60 name=L60>60</a></td><td></td><td><pre>        <span class="syntect-rust syntect-other syntect-keyword">use</span> <span class="syntect-rust syntect-path syntect-meta">std</span><span class="syntect-rust syntect-accessor syntect-punctuation">::</span><span class="syntect-rust syntect-path syntect-meta">cell</span><span class="syntect-rust syntect-accessor syntect-punctuation">::</span><span class="syntect-rust syntect-begin syntect-block syntect-section syntect-punctuation">{</span><span class="syntect-rust syntect-block syntect-meta">LazyCell </span><span class="syntect-rust syntect-operator syntect-keyword">as</span><span class="syntect-rust syntect-block syntect-meta"> FLazyCell</span><span class="syntect-rust syntect-separator syntect-punctuation">,</span><span class="syntect-rust syntect-block syntect-meta"> RefCell </span><span class="syntect-rust syntect-operator syntect-keyword">as</span><span class="syntect-rust syntect-block syntect-meta"> FRefCell</span><span class="syntect-rust syntect-end syntect-block syntect-section syntect-punctuation">}</span><span class="syntect-rust syntect-terminator syntect-punctuation">;</span></pre></td></tr><tr><td><a href=#L61 name=L61>61</a></td><td></td><td><pre></pre></td></tr><tr><td><a href=#L62 name=L62>62</a></td><td></td><td><pre>        <span class="syntect-rust syntect-comment syntect-definition syntect-punctuation">//</span><span class="syntect-rust syntect-double-slash syntect-line syntect-comment"> Setup module level logger access.</span></pre></td></tr><tr><td><a href=#L63 name=L63>63</a></td><td>12</td><td class=partially-covered><pre>        <span class="syntect-rust syntect-type syntect-storage">const</span> <span class="syntect-rust syntect-other syntect-constant">LOGGER</span><span class="syntect-rust syntect-separator syntect-punctuation">:</span> <span class="syntect-rust syntect-generic syntect-meta">FLazyCell</span><span class="syntect-rust syntect-begin syntect-generic syntect-definition syntect-punctuation"><</span><span class="syntect-rust syntect-generic syntect-meta">FRefCell</span><span class="syntect-rust syntect-begin syntect-generic syntect-definition syntect-punctuation"><</span><span class="syntect-rust syntect-generic syntect-meta">FLogger</span><span class="syntect-rust syntect-end syntect-generic syntect-definition syntect-punctuation">></span><span class="syntect-rust syntect-end syntect-generic syntect-definition syntect-punctuation">></span> <span class="syntect-rust syntect-operator syntect-keyword">=</span> <span class="syntect-rust syntect-path syntect-meta">FLazyCell</span><span class="syntect-rust syntect-accessor syntect-punctuation">::</span><span class="syntect-rust syntect-block syntect-meta">new</span><span class="syntect-rust syntect-begin syntect-group syntect-section syntect-punctuation">(</span><span class="syntect-rust syntect-begin syntect-parameters syntect-section syntect-punctuation">|</span><span class="syntect-rust syntect-end syntect-parameters syntect-section syntect-punctuation">|</span> <span class="syntect-rust syntect-path syntect-meta">FRefCell</span><span class="syntect-rust syntect-accessor syntect-punctuation">::</span><span class="syntect-rust syntect-closure syntect-function syntect-meta">new</span><span class="syntect-rust syntect-begin syntect-group syntect-section syntect-punctuation">(</span><span class="syntect-rust syntect-begin syntect-block syntect-section syntect-punctuation">{</span> <span class="syntect-rust syntect-other syntect-variable">$block</span> <span class="syntect-rust syntect-end syntect-block syntect-section syntect-punctuation">}</span><span class="syntect-rust syntect-end syntect-group syntect-section syntect-punctuation">)</span><span class="syntect-rust syntect-end syntect-group syntect-section syntect-punctuation">)</span><span class="syntect-rust syntect-terminator syntect-punctuation">;</span></pre></td></tr><tr><td><a href=#L64 name=L64>64</a></td><td></td><td><pre>    <span class="syntect-rust syntect-end syntect-block syntect-section syntect-punctuation">}</span><span class="syntect-rust syntect-block syntect-meta">;</span></pre></td></tr><tr><td><a href=#L65 name=L65>65</a></td><td></td><td><pre><span class="syntect-rust syntect-end syntect-block syntect-section syntect-punctuation">}</span></pre></td></tr></tbody></table></div><p class=page-footer>Generated by <a href=https://github.com/dnaka91/llvm-cov-pretty>llvm-cov-pretty</a> -- version 0.1.10</p></body></html>